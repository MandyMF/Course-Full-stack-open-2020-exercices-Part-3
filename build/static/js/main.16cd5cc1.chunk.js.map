{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","name","number","handlerDeletePerson","onClick","Persons","persons","filter","person","toUpperCase","includes","map","key","id","PersonForm","onSubmit","newName","newNumber","handleNewNameChange","handleNewNumberChange","value","onChange","type","Filter","handleFilterChange","notification_style","success","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","error","Notification","message","style","info","axios","get","then","response","data","newPerson","post","personId","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","personService","event","target","preventDefault","person_found","find","contact","window","confirm","changePerson","setTimeout","concat","personName","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.16cd5cc1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ name, number, handlerDeletePerson, ...props }) => {\r\n    return (      \r\n            <p>{name} {number} <button onClick={() => handlerDeletePerson()}>delete</button></p>\r\n    )\r\n}\r\n\r\nexport default Person\r\n\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, filter, handlerDeletePerson, ...props}) =>{\r\n    return (\r\n        <>\r\n             {persons\r\n             .filter((person) => person.name\r\n             .toUpperCase().includes(filter.toUpperCase()))\r\n             .map((person) =>           \r\n             <Person key={person.id} name={person.name} number={person.number} handlerDeletePerson={() => handlerDeletePerson(person.id, person.name)}/>            \r\n             )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, newName, newNumber, handleNewNameChange, handleNewNumberChange, ...props}) =>{\r\n\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n        <div>\r\n            name: <input value={newName} onChange={handleNewNameChange} />\r\n            <br />\r\n            number: <input value={newNumber} onChange={handleNewNumberChange} />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({filter, handleFilterChange, ...props}) => {\r\n    return (\r\n        <>\r\n        filter shown with\r\n        <input value={filter} onChange={handleFilterChange} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst notification_style={\r\n    success:\r\n    {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    },\r\n    error:\r\n    {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n}\r\n\r\nconst Notification = ({ message, ...props }) => {\r\n    if (!message) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div style={(message.success ? notification_style.success : notification_style.error)}>\r\n            {message.info}\r\n        </div>\r\n    )\r\n\r\n    //Basic mode of changing the color\r\n    //uncoment this and in index.css the error and success class and coment the default return\r\n    //also uncomment import in App.js of index.css\r\n\r\n    /*return (\r\n        <div className={message.success ? 'success' : 'error'}>\r\n            {message.info}\r\n        </div>\r\n    )*/\r\n\r\n\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst base_url = '/api/persons'\r\n\r\nconst getAll = () =>{\r\n    return axios.get(base_url).then(response=>response.data)\r\n}\r\n\r\nconst createPerson = ( newPerson ) =>{\r\n    return axios.post(base_url, newPerson).then(response=>response.data)\r\n}\r\n\r\nconst deletePerson = (personId) =>{\r\n    return axios.delete(`${base_url}/${personId}`)\r\n    .then(response=> {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst updatePerson = (personId, person) => {\r\n    return axios.put(`${base_url}/${personId}`, person)\r\n    .then(response=> {\r\n        return response.data\r\n    })\r\n}\r\n\r\n\r\n\r\nexport default {getAll, createPerson, deletePerson, updatePerson}","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\n\r\nimport personService from './services/persons'\r\n\r\n//import './index.css'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n\r\n    const [filter, setFilter] = useState('')\r\n\r\n    //message structure {success:true, info:null}\r\n    const [message, setMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService.getAll()\r\n            .then((response) => {\r\n                setPersons(response)\r\n            }\r\n            )\r\n    }, [])\r\n\r\n    const addContact = (event) => {\r\n        event.preventDefault();\r\n\r\n        //this code is in case empty names were invalid\r\n        /*if(newName === '')\r\n        {\r\n            alert('please, introduce a name')\r\n            return\r\n        }*/\r\n\r\n        const person_found = persons.find((contact) => contact.name === newName)\r\n\r\n        if (person_found) {\r\n            if (window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\r\n                const changePerson = { ...person_found, number: newNumber }\r\n                personService.updatePerson(person_found.id, changePerson)\r\n                    .then(response => {\r\n                        setPersons(persons.map((person) => person.id !== response.id ? person : response))\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n\r\n                        setMessage({success:true, info:`Number of ${response.name} changed to ${newNumber}`})\r\n                        setTimeout(() => setMessage(null), 5000)\r\n\r\n                    })\r\n            }\r\n            return\r\n        }\r\n\r\n        personService.createPerson({ name: newName, number: newNumber })\r\n            .then(response => {\r\n                setPersons(persons.concat(response))\r\n                setNewName('')\r\n                setNewNumber('')\r\n\r\n                setMessage({success:true, info:`Added ${response.name}`})\r\n                setTimeout(() => setMessage(null), 5000)\r\n            })\r\n\r\n    }\r\n\r\n    const deleteContact = (personId, personName) => {\r\n        if (window.confirm(`Delete ${personName} ?`)) {\r\n            personService.deletePerson(personId).then(() => {\r\n                setPersons(persons.filter((person) => person.id !== personId))\r\n\r\n                setMessage({success:true, info:`Deleted ${personName}`})\r\n                setTimeout(() => setMessage(null), 5000)\r\n            }\r\n            ).catch(error => {\r\n                setPersons(persons.filter((person) => person.id !== personId))\r\n\r\n                setMessage({success:false, info:`Information of ${personName} has already been removed from the server`})\r\n                setTimeout(() => setMessage(null), 5000)\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleNewNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNewNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n\r\n            <Notification message={message} />\r\n\r\n            <Filter filter={filter} handleFilterChange={handleFilterChange} />\r\n\r\n            <h3>Add a new</h3>\r\n\r\n            <PersonForm\r\n                onSubmit={addContact}\r\n                newName={newName}\r\n                newNumber={newNumber}\r\n                handleNewNameChange={handleNewNameChange}\r\n                handleNewNumberChange={handleNewNumberChange}\r\n            />\r\n\r\n            <h3>Numbers</h3>\r\n\r\n            <Persons\r\n                handlerDeletePerson={deleteContact}\r\n                persons={persons}\r\n                filter={filter}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\n\r\n"],"sourceRoot":""}